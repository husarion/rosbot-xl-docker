# Quick Star
# $ docker compose -f compose.rosbot.mapping.yaml up

services:
  # modified behaviour tree that doesn't replan global path
  # nav2:
  #   image: husarion/navigation2:humble
  #   restart: unless-stopped
  #   volumes:
  #     - ../config/nav2_params.yaml:/nav2_params.yaml
  #     - ../config/navigate_w_recovery.xml:/navigate_w_recovery.xml
  #   command: >
  #     ros2 launch nav2_bringup navigation_launch.py    
  #       params_file:=/nav2_params.yaml

  # pure pursuit nav2
  navigation:
    image: husarion/navigation2:humble
    restart: unless-stopped
    volumes:
      - ../config/nav2_params_pure_pursuit.yaml:/nav2_params.yaml
    command: >
      ros2 launch nav2_bringup navigation_launch.py    
        params_file:=/nav2_params.yaml

  localization-mapping:
    image: husarion/slam-toolbox:humble
    container_name: slam-toolbox
    restart: unless-stopped
    volumes:
      - ../config/slam_toolbox_params.yaml:/slam_params.yaml
      - ./maps:/maps
    command: >
      ros2 launch slam_toolbox online_sync_launch.py 
        slam_params_file:=/slam_params.yaml
